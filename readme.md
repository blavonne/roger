# Roger-skyline-1  
### Синопсис  
Хост: LMDE (Debian 10), гость: Debian 10.
### Подготовка
Устанавлиаем VirtualBox.  
Устанавливаем гостевую машину, используя любой дистрибутив Linux.
У меня это debian-10.6.0-amd64-netinst.iso размером 8 ГБ, с двумя точками монтирования
/ (4.2 GB) и /home (оставшееся место), без desktop, обязательно с галочкой напротив
ssh-manager.  
В настройках машины выбираем пункт Network, включаем адаптер Bridge. Выбор этого
типа адаптера позволит использовать как Интернет, так и ssh.  
Подключаемся к гостевой системе через root.  
Устанавливаем sudo и vim:  
`apt-get install sudo`  
`apt-get install vim`  
Добавляем созданного пользователя (не root) в список пользователей, которым
разрешено использовать команду sudo:  
`sed -ie '/^# Allow members/i username ALL=(ALL:ALL) ALL' /etc/sudoers`  
Данная команда позволяет добавить пользователя username в файл sudoers, она
эквивалентна команде `vim /etc/sudoers` и внесению пользователя в список вручную.
### Настройка сети
Настало время выполнить первый пункт задания:
установить статический IP и маску подсети /30. Это довольно непростой пункт,
потому что конфигурация может различаться для разных устройств. Тут нет
универсального способа, к сожалению, поэтому придётся подумать.  
`ip -a`  
С помощью этой команды на гостевой машине выводим список сетевых устройств.
Скорее всего вы увидите два устройства: lo и enp0s3
. Нам нужно то, которое не lo, в моем случае это именно enp0s3.  
Посмотрите содержимое файла /etc/network/interfaces:  
`cat /etc/network/interfaces `  
Необходимо весь блок с информацией об enp0s3 привести к виду:  
>\# The primary network interface  
auto enp0s3  
allow-hotplug enp0s3  
iface enp0s3 inet static  
	address 192.168.1.2  
	netmask 255.255.255.252  
	gateway 192.168.1.1  
>
Откуда взять данные?  
**_Address_**, то есть наш статический IP, должен выходить
за пределы диапазона адресов, выдаваемых роутером. Посмотреть этот диапазон
можно в настройках роутера. В адресной строке вбиваем адрес роутера (мой
192.168.1.1), заходим в настройки LAN, ищем там DHCP. Например, у меня это
192.168.1.64 - 192.168.1.253. В эти адреса попадать не нужно, они могут быть
присвоены роутером другим устройствам, подключенным к сети.  
Далее следует ознакомиться со [значением маски](http://unixwiz.net/techtips/netmask-ref.html).  
Требуемая по заданию маска /30 означает, что у нас в подсети будет всего 4 IP адреса,
из которых использовать мы сможем лишь 2. Первый из адресов, 192.168.1.**1**, принадлежит
самому роутеру. Значит, 192.168.1.**2** -- свободен. Очевидно, что **3** будет широковещательным
адресом (broadcast).  
**_Netmask_** /30 = 255.255.255.252.  
**_Gateway_** -- шлюз, пишем сюда адрес роутера.  
Без этих трёх компонентов ничего работать не будет (правильно).  